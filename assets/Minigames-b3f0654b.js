import{d as k,f as R,V as I,K as t,W as M,L as U,o as m,l as S,w as v,k as a,t as n,e as d,X as w,Y as L,Z as x,h as T,p as G,a as b,F as V,j as F,$ as W,a0 as K,_ as y,g as H,r as P}from"./app-871ba68c.js";import{B as $}from"./Button-ff27db06.js";import{S as j}from"./SectionContainer-cde9b289.js";const z={class:"mb-2 p-2 rounded-lg bg-slate-100 flex flex-col items-center dark:bg-slate-700"},J={class:"text-sm font-bold"},X={class:"text-4xl"},Y=["onKeyup"],Z=k({__name:"Anagrams",setup(A){const o=R("anagrams-server-url","ws://localhost:8080/ws/anagram"),{close:g,data:p,open:C,send:B,status:_}=I(o,{immediate:!1,heartbeat:{message:"/ping",interval:2e3,pongTimeout:2e3}}),l=t("WAITING ROUND START!"),r=t(""),c=t(""),E=M(c,{showSecond:!0,updateInterval:1e3}),u=t(null),i=t(""),h=t([]);U(p,f=>{if(f!==null){const{type:s,content:e}=JSON.parse(f);switch(s){case"ChatMessage":h.value.push(e),K().then(()=>{u.value&&(u.value.scrollTop=u.value.scrollHeight)});break;case"OngoingRoundInfo":c.value=e.round_finish_time,l.value="PLEASE GUESS!",r.value=e.word_to_guess;break;case"FinishedRoundInfo":c.value=e.to_next_round_time,l.value="TIME'S UP! THE ANSWER:",r.value=e.word_answer;break;case"FinishedGame":c.value="",l.value="WAITING ROUND START!",r.value=""}}});function D(){_.value!=="CLOSED"?g():C()}function N(){B(i.value),i.value=""}return(f,s)=>(m(),S(j,{title:"ANAGRAMS",class:"self-center mt-6 max-w-screen-md"},{default:v(()=>[a("p",null,"Server URL: (Connection: "+n(d(_))+")",1),w(a("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>L(o)?o.value=e:null),type:"text",class:"w-full rounded-lg border-2 border-slate-300 dark:border-slate-600 dark:bg-slate-800"},null,512),[[x,d(o)]]),T($,{class:"my-2",onClick:D},{default:v(()=>[G(n(d(_)==="CLOSED"?"Connect":"Disconnect"),1)]),_:1}),a("div",z,[a("p",J,n(l.value)+" - "+n(d(E)),1),a("code",X,n(r.value),1)]),a("div",{ref_key:"chatBox",ref:u,class:"p-2 h-64 rounded-lg bg-slate-200 overflow-y-auto whitespace-pre-wrap break-all dark:bg-slate-700"},[(m(!0),b(V,null,F(h.value,(e,O)=>(m(),b("div",{key:O},n(e),1))),128))],512),w(a("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>i.value=e),type:"text",placeholder:"message/answer here, send with Enter",class:"mt-2 w-full rounded-lg border-2 border-slate-300 dark:border-slate-600 dark:bg-slate-800",onKeyup:W(N,["enter"])},null,40,Y),[[x,i.value]])]),_:1}))}}),q=y(Z,[["__file","/home/sam/Documents/repos/self-site/src/components/Anagrams.vue"]]),Q=k({__name:"Minigames",setup(A){return H({title:"PixelSamz - Minigames"}),(o,g)=>{const p=P("ClientOnly");return m(),S(p,null,{default:v(()=>[T(q)]),_:1})}}}),te=y(Q,[["__file","/home/sam/Documents/repos/self-site/src/pages/Minigames.vue"]]);export{te as default};
