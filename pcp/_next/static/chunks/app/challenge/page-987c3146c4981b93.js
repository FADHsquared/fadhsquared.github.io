(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[810],{410:function(e,s,n){"use strict";n.d(s,{Z:function(){return a}});var a=(0,n(8912).Z)("thumb-down","IconThumbDown",[["path",{d:"M7 13v-8a1 1 0 0 0 -1 -1h-2a1 1 0 0 0 -1 1v7a1 1 0 0 0 1 1h3a4 4 0 0 1 4 4v1a2 2 0 0 0 4 0v-5h3a2 2 0 0 0 2 -2l-1 -5a2 3 0 0 0 -2 -2h-7a3 3 0 0 0 -3 3",key:"svg-0"}]])},3507:function(e,s,n){"use strict";n.d(s,{Z:function(){return a}});var a=(0,n(8912).Z)("thumb-up","IconThumbUp",[["path",{d:"M7 11v8a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1v-7a1 1 0 0 1 1 -1h3a4 4 0 0 0 4 -4v-1a2 2 0 0 1 4 0v5h3a2 2 0 0 1 2 2l-1 5a2 3 0 0 1 -2 2h-7a3 3 0 0 1 -3 -3",key:"svg-0"}]])},9608:function(e,s,n){Promise.resolve().then(n.bind(n,7720))},7720:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return N}});var a=n(4552),t=n(5477),l=n(551);function c(e){let{comments:s}=e;return s.length?s.map(e=>(0,a.jsxs)("div",{className:"the-card space-y-3",children:[(0,a.jsx)("p",{className:"font-bold",children:e.user.name}),(0,a.jsx)("p",{className:"whitespace-pre-wrap",children:e.content})]},e.id)):(0,a.jsx)("p",{children:"There are no comments"})}var i=n(704),r=n(4962),o=n(3521);function h(e){let{comments:s}=e;return s.length?s.map(e=>(0,a.jsxs)("div",{className:"the-card space-y-3",children:[(0,a.jsx)("p",{className:"font-bold",children:e.user.name}),(0,a.jsx)("p",{className:"whitespace-pre-wrap",children:e.content})]},e.id)):(0,a.jsx)("p",{children:"There are no comments"})}var d=n(5446);function m(e){let{submissionId:s}=e,{mutate:n}=(0,o.kY)(),[t,l]=(0,d.useState)(""),[c,i]=(0,d.useState)(""),[h,m]=(0,d.useState)(!1),u=async e=>{e.preventDefault(),i(""),m(!1);try{await r.H.challengeSubmissionCommentCreate({challengeSubmissionId:s,content:t}),n("/challenge-submission-comments/challenge-submission-id/".concat(s)),m(!0)}catch(e){i(e instanceof Error?e.message:"Unknown error")}};return(0,a.jsxs)("form",{onSubmit:u,className:"space-y-3",children:[c&&(0,a.jsx)("div",{className:"bg-red-800 px-3 py-1",children:(0,a.jsx)("p",{children:c})}),h&&(0,a.jsx)("div",{className:"bg-green-500 px-3 py-1",children:(0,a.jsx)("p",{children:"Success"})}),(0,a.jsx)("textarea",{required:!0,value:t,onChange:e=>l(e.target.value),placeholder:"Type your comment here...",className:"the-input block w-full"}),(0,a.jsx)("button",{type:"submit",className:"the-btn w-full",children:"Submit Comment"})]})}var u=n(3507),g=n(410);function x(e){let{votes:s,sessionVote:n,submissionId:t}=e,{mutate:l}=(0,o.kY)(),[c,i]=(0,d.useState)(""),h=null!==n&&n.isUpvote,m=null!==n&&!n.isUpvote,x=async()=>{i("");try{h?await r.H.challengeSubmissionVoteDelete(n.id):(m&&await r.H.challengeSubmissionVoteDelete(n.id),await r.H.challengeSubmissionVoteCreate({challengeSubmissionId:t,isUpvote:!0})),l("/challenge-submission-votes/challenge-submission-id/".concat(t)),l("session/challenge-submission-votes/".concat(t))}catch(e){i(e instanceof Error?e.message:"Unknown error")}},p=async()=>{i("");try{m?await r.H.challengeSubmissionVoteDelete(n.id):(h&&await r.H.challengeSubmissionVoteDelete(n.id),await r.H.challengeSubmissionVoteCreate({challengeSubmissionId:t,isUpvote:!1})),l("/challenge-submission-votes/challenge-submission-id/".concat(t)),l("session/challenge-submission-votes/".concat(t))}catch(e){i(e instanceof Error?e.message:"Unknown error")}};return(0,a.jsxs)(a.Fragment,{children:[c&&(0,a.jsx)("div",{className:"bg-red-800 px-3 py-1",children:(0,a.jsx)("p",{children:c})}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("button",{className:"the-btn flex items-center gap-x-3 ".concat(h?"bg-green-500":""),onClick:x,children:[(0,a.jsx)(u.Z,{})," ",s.filter(e=>e.isUpvote).length]}),(0,a.jsxs)("button",{className:"the-btn flex items-center gap-x-3 ".concat(m?"bg-green-500":""),onClick:p,children:[(0,a.jsx)(g.Z,{})," ",s.filter(e=>!e.isUpvote).length]})]})]})}function p(e){let{submissionId:s}=e,{data:n,error:t,isLoading:l}=(0,o.ZP)("/challenge-submission-comments/challenge-submission-id/".concat(s),()=>r.H.challengeSubmissionCommentListByChallengeSubmissionId(s)),{data:c,error:i,isLoading:d}=(0,o.ZP)("/challenge-submission-votes/challenge-submission-id/".concat(s),()=>r.H.challengeSubmissionVoteListBySubmissionId(s)),{data:u,error:g,isLoading:p}=(0,o.ZP)("session/challenge-submission-votes/".concat(s),()=>r.H.sessionChallengeSubmissionVoteByChallengeSubmissionId(s));return(0,a.jsxs)(a.Fragment,{children:[d||p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"Loading..."}),(0,a.jsx)("p",{className:"text-xs",children:"Please wait"})]}):i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"Error fetching votes"}),(0,a.jsx)("p",{className:"text-xs",children:i.toString()})]}):g?(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"Error fetching self upvote"}),(0,a.jsx)("p",{className:"text-xs",children:g.toString()})]}):(0,a.jsx)(x,{votes:null!=c?c:[],sessionVote:null!=u?u:null,submissionId:s}),(0,a.jsxs)("div",{className:"the-card space-y-3",children:[(0,a.jsx)("p",{className:"font-bold",children:"Comments"}),(0,a.jsx)(m,{submissionId:s}),l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"Loading..."}),(0,a.jsx)("p",{className:"text-xs",children:"Please wait"})]}):t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"Error fetching comments"}),(0,a.jsx)("p",{className:"text-xs",children:t.toString()})]}):(0,a.jsx)(h,{comments:null!=n?n:[]})]})]})}function b(e){let{submissions:s}=e;return s.length?s.map(e=>(0,a.jsxs)("div",{className:"the-card space-y-3",children:[(0,a.jsx)("p",{className:"font-bold",children:e.user.name}),(0,a.jsx)("p",{className:"whitespace-pre-wrap text-sm",children:e.code}),(0,a.jsxs)(t.fC,{children:[(0,a.jsx)(t.xz,{className:"the-btn block w-full",children:"View Comments & Votes"}),(0,a.jsx)(i.Z,{title:"Submission Comments & Votes",children:(0,a.jsx)(p,{submissionId:e.id})})]})]},e.id)):(0,a.jsx)("p",{children:"There are no submissions"})}function j(e){let{votes:s,sessionVote:n,challengeId:t,challengeName:l}=e,{mutate:c}=(0,o.kY)(),[i,h]=(0,d.useState)(""),m=null!==n&&n.isUpvote,x=null!==n&&!n.isUpvote,p=async()=>{h("");try{m?await r.H.challengeVoteDelete(n.id):(x&&await r.H.challengeVoteDelete(n.id),await r.H.challengeVoteCreate({challengeId:t,isUpvote:!0})),c("challenge-votes/challenge-name/".concat(l)),c("session/challenge-votes/name/".concat(l))}catch(e){h(e instanceof Error?e.message:"Unknown error")}},b=async()=>{h("");try{x?await r.H.challengeVoteDelete(n.id):(m&&await r.H.challengeVoteDelete(n.id),await r.H.challengeVoteCreate({challengeId:t,isUpvote:!1})),c("challenge-votes/challenge-name/".concat(l)),c("session/challenge-votes/name/".concat(l))}catch(e){h(e instanceof Error?e.message:"Unknown error")}};return(0,a.jsxs)(a.Fragment,{children:[i&&(0,a.jsx)("div",{className:"bg-red-800 px-3 py-1",children:(0,a.jsx)("p",{children:i})}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("button",{className:"the-btn flex items-center gap-x-3 ".concat(m?"bg-green-500":""),onClick:p,children:[(0,a.jsx)(u.Z,{})," ",s.filter(e=>e.isUpvote).length]}),(0,a.jsxs)("button",{className:"the-btn flex items-center gap-x-3 ".concat(x?"bg-green-500":""),onClick:b,children:[(0,a.jsx)(g.Z,{})," ",s.filter(e=>!e.isUpvote).length]})]})]})}var y=n(7418);function v(e){let{challengeId:s,challengeName:n}=e,{mutate:t}=(0,o.kY)(),[l,c]=(0,d.useState)(""),[i,h]=(0,d.useState)(""),[m,u]=(0,d.useState)(!1),g=async e=>{e.preventDefault(),h(""),u(!1);try{await r.H.challengeCommentCreate({challengeId:s,content:l}),t("challenge-comments/challenge-name/".concat(n)),u(!0)}catch(e){h(e instanceof Error?e.message:"Unknown error")}};return(0,a.jsxs)("form",{onSubmit:g,className:"space-y-3",children:[i&&(0,a.jsx)("div",{className:"bg-red-800 px-3 py-1",children:(0,a.jsx)("p",{children:i})}),m&&(0,a.jsx)("div",{className:"bg-green-500 px-3 py-1",children:(0,a.jsx)("p",{children:"Success"})}),(0,a.jsx)("textarea",{required:!0,value:l,onChange:e=>c(e.target.value),placeholder:"Type your comment here...",className:"the-input block w-full"}),(0,a.jsx)("button",{type:"submit",className:"the-btn w-full",children:"Submit Comment"})]})}var f=n(5536);function w(e){let{challengeId:s,challengeName:n,codeInitialValue:t}=e,{mutate:l}=(0,o.kY)(),[c,i]=(0,d.useState)(t),[h,m]=(0,d.useState)(""),[u,g]=(0,d.useState)(!1),x=async()=>{m(""),g(!1);try{await r.H.challengeSubmissionCreate({challengeId:s,code:c}),l("challenge-submissions/challenge-name/".concat(n)),g(!0)}catch(e){m(e instanceof Error?e.message:"Unknown error")}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.ZP,{height:"24rem",defaultLanguage:"javascript",value:c,onChange:e=>i(null!=e?e:""),theme:"vs-dark"}),(0,a.jsx)("button",{onClick:x,className:"the-btn w-full",children:"Submit Attempt"}),h&&(0,a.jsx)("div",{className:"bg-red-800 px-3 py-1",children:(0,a.jsx)("p",{className:"whitespace-pre-wrap text-sm",children:h})}),u&&(0,a.jsx)("div",{className:"bg-green-500 px-3 py-1",children:(0,a.jsx)("p",{children:"Success"})})]})}function N(){var e,s,n,h,m,u,g,x,p,f,N;let S=(0,y.useSearchParams)(),[C,U]=(0,d.useState)(null),[V,k]=(0,d.useState)(""),{data:E,error:L,isLoading:T}=(0,o.ZP)("challenge-comments/challenge-name/".concat(null!==(e=S.get("name"))&&void 0!==e?e:""),()=>r.H.challengeCommentListByChallengeName(null!==(s=S.get("name"))&&void 0!==s?s:"")),{data:P,error:H,isLoading:Z}=(0,o.ZP)("challenge-submissions/challenge-name/".concat(null!==(n=S.get("name"))&&void 0!==n?n:""),()=>r.H.challengeSubmissionListByChallengeName(null!==(h=S.get("name"))&&void 0!==h?h:"")),{data:D,error:I,isLoading:O}=(0,o.ZP)("challenge-votes/challenge-name/".concat(null!==(m=S.get("name"))&&void 0!==m?m:""),()=>r.H.challengeVoteListByChallengeName(null!==(u=S.get("name"))&&void 0!==u?u:"")),{data:B,error:F,isLoading:J}=(0,o.ZP)("session/challenge-votes/name/".concat(null!==(g=S.get("name"))&&void 0!==g?g:""),()=>r.H.sessionChallengeVoteByChallengeName(null!==(x=S.get("name"))&&void 0!==x?x:""));return((0,d.useEffect)(()=>{(async()=>{try{var e;let s=await r.H.challengeGetByName(null!==(e=S.get("name"))&&void 0!==e?e:"");U(s)}catch(e){k(e instanceof Error?e.message:"Unknown error")}})()},[S]),S.get("name"))?V?(0,a.jsx)("p",{children:V}):C?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(l.Z,{tier:C.tier,title:C.name}),O||J?(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"Loading..."}),(0,a.jsx)("p",{className:"text-xs",children:"Please wait"})]}):I?(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"Error fetching votes"}),(0,a.jsx)("p",{className:"text-xs",children:I.toString()})]}):F?(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"Error fetching self upvote"}),(0,a.jsx)("p",{className:"text-xs",children:F.toString()})]}):(0,a.jsx)(j,{votes:null!=D?D:[],sessionVote:null!=B?B:null,challengeId:C.id,challengeName:null!==(p=S.get("name"))&&void 0!==p?p:""}),(0,a.jsxs)("div",{className:"the-card space-y-3",children:[(0,a.jsx)("p",{className:"font-bold",children:"Description"}),(0,a.jsx)("p",{className:"whitespace-pre-wrap text-sm",children:C.description}),(0,a.jsxs)(t.fC,{children:[(0,a.jsx)(t.xz,{className:"the-btn block w-full",children:"View Submissions"}),(0,a.jsx)(i.Z,{title:"View Submissions",children:Z?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"Loading..."}),(0,a.jsx)("p",{className:"text-xs",children:"Please wait"})]}):H?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"Error fetching submissions"}),(0,a.jsx)("p",{className:"text-xs",children:H.toString()})]}):(0,a.jsx)(b,{submissions:null!=P?P:[]})})]})]}),(0,a.jsxs)("div",{className:"the-card space-y-3",children:[(0,a.jsx)("p",{className:"font-bold",children:"Editor"}),(0,a.jsx)(w,{challengeId:C.id,challengeName:null!==(f=S.get("name"))&&void 0!==f?f:"",codeInitialValue:C.initialCode})]}),(0,a.jsxs)("div",{className:"the-card space-y-3",children:[(0,a.jsx)("p",{className:"font-bold",children:"Comments"}),(0,a.jsx)(v,{challengeId:C.id,challengeName:null!==(N=S.get("name"))&&void 0!==N?N:""}),T?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"Loading..."}),(0,a.jsx)("p",{className:"text-xs",children:"Please wait"})]}):L?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"Error fetching comments"}),(0,a.jsx)("p",{className:"text-xs",children:L.toString()})]}):(0,a.jsx)(c,{comments:null!=E?E:[]})]})]}):(0,a.jsx)("p",{children:"Loading..."}):(0,a.jsx)("p",{children:"Please specify a challenge name."})}},551:function(e,s,n){"use strict";n.d(s,{Z:function(){return t}});var a=n(4552);function t(e){let{tier:s,title:n}=e;return(0,a.jsxs)("p",{className:"font-bold",children:[(0,a.jsxs)("span",{className:"border border-white px-1 font-normal",children:["T",s]})," ",n]})}},704:function(e,s,n){"use strict";n.d(s,{Z:function(){return c}});var a=n(4552),t=n(5477),l=n(8723);function c(e){let{title:s,description:n,children:c}=e;return(0,a.jsxs)(t.h_,{children:[(0,a.jsx)(t.aV,{className:"fixed inset-0 z-10 bg-black/50"}),(0,a.jsxs)(t.VY,{className:"fixed left-1/2 top-1/2 z-10 max-h-[calc(100vh-1.5rem)] -translate-x-1/2 -translate-y-1/2 overflow-y-auto bg-[#1e1e1e]",children:[(0,a.jsx)(t.x8,{className:"fixed top-3 right-3",children:(0,a.jsx)(l.Z,{})}),(0,a.jsxs)("div",{className:"the-card space-y-3",children:[s&&(0,a.jsx)(t.Dx,{className:"font-bold",children:s}),n&&(0,a.jsx)(t.dk,{children:n}),c]})]})]})}},4962:function(e,s,n){"use strict";async function a(e,s){let n=await fetch(e,s),a=await l(n);if(!n.ok)throw new c(n.status,n.statusText,null==a?void 0:a.details);return a}async function t(e,s){let n=await fetch(e,s);if(!n.ok){var a;throw new c(n.status,n.statusText,null===(a=await l(n))||void 0===a?void 0:a.details)}}async function l(e){try{return await e.json()}catch(e){if(!(e instanceof SyntaxError))throw e;return null}}n.d(s,{H:function(){return i}});class c extends Error{constructor(e,s,n){super("Error ".concat(e," (").concat(s,")! ").concat(n?"Details: "+n:"No details given"))}}let i=new class{async sessionLogin(e,s){await t("".concat(this.baseUrl,"/token"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({username:e,password:s}),credentials:"include"})}async sessionLogout(){await t("".concat(this.baseUrl,"/session/logout"),{method:"POST",credentials:"include"})}async sessionUser(){return await a("".concat(this.baseUrl,"/session"),{credentials:"include"})}async sessionChallenges(){return await a("".concat(this.baseUrl,"/session/challenges"),{credentials:"include"})}async sessionChallenge(e){return await a("".concat(this.baseUrl,"/session/challenges/name/").concat(e),{credentials:"include"})}async sessionChallengeVoteByChallengeName(e){return await a("".concat(this.baseUrl,"/session/challenge-votes/name/").concat(e),{credentials:"include"})}async sessionChallengeSubmissionVoteByChallengeSubmissionId(e){return await a("".concat(this.baseUrl,"/session/challenge-submission-votes/").concat(e),{credentials:"include"})}async userCreate(e){await t("".concat(this.baseUrl,"/users"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}async userList(){return await a("".concat(this.baseUrl,"/users"))}async userGetByName(e){return await a("".concat(this.baseUrl,"/users/name/").concat(e))}async challengeCreate(e){await t("".concat(this.baseUrl,"/challenges"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"})}async challengeList(e,s){return await a("".concat(this.baseUrl,"/challenges?tiers=").concat(e,"&sort-by=").concat(s))}async challengeGetByName(e){return await a("".concat(this.baseUrl,"/challenges/name/").concat(e))}async challengeUpdate(e,s){await t("".concat(this.baseUrl,"/challenges/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s),credentials:"include"})}async challengeDelete(e){return await a("".concat(this.baseUrl,"/challenges/").concat(e),{method:"DELETE",credentials:"include"})}async challengeCommentCreate(e){await t("".concat(this.baseUrl,"/challenge-comments"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"})}async challengeCommentListByChallengeName(e){return await a("".concat(this.baseUrl,"/challenge-comments/challenge-name/").concat(e))}async challengeVoteCreate(e){await t("".concat(this.baseUrl,"/challenge-votes"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"})}async challengeVoteListByChallengeName(e){return await a("".concat(this.baseUrl,"/challenge-votes/challenge-name/").concat(e))}async challengeVoteDelete(e){return await a("".concat(this.baseUrl,"/challenge-votes/").concat(e),{method:"DELETE",credentials:"include"})}async challengeSubmissionCreate(e){await t("".concat(this.baseUrl,"/challenge-submissions"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"})}async challengeSubmissionListByChallengeName(e){return await a("".concat(this.baseUrl,"/challenge-submissions/challenge-name/").concat(e))}async challengeSubmissionCommentCreate(e){await t("".concat(this.baseUrl,"/challenge-submission-comments"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"})}async challengeSubmissionCommentListByChallengeSubmissionId(e){return await a("".concat(this.baseUrl,"/challenge-submission-comments/challenge-submission-id/").concat(e))}async challengeSubmissionVoteCreate(e){await t("".concat(this.baseUrl,"/challenge-submission-votes"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"})}async challengeSubmissionVoteListBySubmissionId(e){return await a("".concat(this.baseUrl,"/challenge-submission-votes/challenge-submission-id/").concat(e))}async challengeSubmissionVoteDelete(e){return await a("".concat(this.baseUrl,"/challenge-submission-votes/").concat(e),{method:"DELETE",credentials:"include"})}constructor(e){this.baseUrl=e}}("https://pcp.azurewebsites.net")},7418:function(e,s,n){e.exports=n(498)}},function(e){e.O(0,[354,536,729,291,744],function(){return e(e.s=9608)}),_N_E=e.O()}]);