(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[572],{5095:function(e,a,n){Promise.resolve().then(n.bind(n,5323))},551:function(e,a,n){"use strict";n.d(a,{Z:function(){return s}});var t=n(4552);function s(e){let{tier:a,title:n}=e;return(0,t.jsxs)("p",{className:"font-bold",children:[(0,t.jsxs)("span",{className:"border border-white px-1 font-normal",children:["T",a]})," ",n]})}},704:function(e,a,n){"use strict";n.d(a,{Z:function(){return i}});var t=n(4552),s=n(5477),l=n(8723);function i(e){let{title:a,description:n,children:i}=e;return(0,t.jsxs)(s.h_,{children:[(0,t.jsx)(s.aV,{className:"fixed inset-0 z-10 bg-black/50"}),(0,t.jsxs)(s.VY,{className:"fixed left-1/2 top-1/2 z-10 max-h-[calc(100vh-1.5rem)] -translate-x-1/2 -translate-y-1/2 overflow-y-auto bg-[#1e1e1e]",children:[(0,t.jsx)(s.x8,{className:"fixed top-3 right-3",children:(0,t.jsx)(l.Z,{})}),(0,t.jsxs)("div",{className:"the-card space-y-3",children:[a&&(0,t.jsx)(s.Dx,{className:"font-bold",children:a}),n&&(0,t.jsx)(s.dk,{children:n}),i]})]})]})}},5323:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return b}});var t=n(4552),s=n(5477),l=n(4962),i=n(3521),c=n(551),r=n(704),o=n(5446);function h(e){let{challengeId:a}=e,{mutate:n}=(0,i.kY)(),[s,c]=(0,o.useState)(""),[r,h]=(0,o.useState)(!1),d=async()=>{c(""),h(!1);try{await l.H.challengeDelete(a),n("session/challenges"),h(!0)}catch(e){c(e instanceof Error?e.message:"Unknown error")}};return(0,t.jsxs)(t.Fragment,{children:[s&&(0,t.jsx)("div",{className:"bg-red-800 px-3 py-1",children:(0,t.jsx)("p",{children:s})}),r&&(0,t.jsx)("div",{className:"bg-green-500 px-3 py-1",children:(0,t.jsx)("p",{children:"Success"})}),(0,t.jsx)("button",{onClick:d,className:"the-btn mr-3 w-full",children:"Yes"})]})}var d=n(5536);function u(e){let{challengeId:a,titleInitialValue:n,tierInitialValue:s,descriptionInitialValue:c,initialCodeInitialValue:r,testCasesInitialValue:h}=e,{mutate:u}=(0,i.kY)(),[m,g]=(0,o.useState)(n),[p,b]=(0,o.useState)(s),[x,f]=(0,o.useState)(c),[j,y]=(0,o.useState)(r),[w,C]=(0,o.useState)(h),[N,v]=(0,o.useState)(""),[S,k]=(0,o.useState)(""),[U,T]=(0,o.useState)(!1),E=async()=>{if(k(""),T(!1),!m||!x||!j||!w){k("Please fill in all fields");return}try{let e=parseInt(p);if(isNaN(e)||e<1||e>5)throw Error("Tier must be between 1 and 5");await l.H.challengeUpdate(a,{name:m,tier:e,description:x,initialCode:j,testCase:w,codeForVerification:N}),u("session/challenges"),T(!0)}catch(e){k(e instanceof Error?e.message:"Unknown error")}};return(0,t.jsxs)(t.Fragment,{children:[S&&(0,t.jsx)("div",{className:"bg-red-800 px-3 py-1",children:(0,t.jsx)("p",{className:"whitespace-pre-wrap text-sm",children:S})}),U&&(0,t.jsx)("div",{className:"bg-green-500 px-3 py-1",children:(0,t.jsx)("p",{children:"Success"})}),(0,t.jsx)("label",{htmlFor:"title",className:"block font-bold",children:"Title"}),(0,t.jsx)("input",{type:"text",name:"title",id:"title",placeholder:"Enter challenge title",value:m,onChange:e=>g(e.target.value),className:"the-input w-full sm:w-[512px] md:w-[640px]"}),(0,t.jsx)("label",{htmlFor:"tier",className:"block font-bold",children:"Tier"}),(0,t.jsx)("input",{type:"number",name:"tier",id:"tier",placeholder:"Enter challenge tier",min:1,max:5,value:p,onChange:e=>b(e.target.value),className:"the-input w-full sm:w-[512px] md:w-[640px]"}),(0,t.jsx)("p",{className:"block font-bold",children:"Description"}),(0,t.jsx)(d.ZP,{width:"100%",height:"8rem",defaultLanguage:"markdown",theme:"vs-dark",options:{minimap:{enabled:!1}},value:x,onChange:e=>f(null!=e?e:"")}),(0,t.jsx)("p",{className:"block font-bold",children:"Initial Code"}),(0,t.jsx)(d.ZP,{width:"100%",height:"8rem",defaultLanguage:"javascript",theme:"vs-dark",options:{minimap:{enabled:!1}},value:j,onChange:e=>y(null!=e?e:"")}),(0,t.jsx)("p",{className:"block font-bold",children:"Test Cases"}),(0,t.jsx)(d.ZP,{width:"100%",height:"8rem",defaultLanguage:"javascript",theme:"vs-dark",options:{minimap:{enabled:!1}},value:w,onChange:e=>C(null!=e?e:"")}),(0,t.jsx)("p",{className:"block font-bold",children:"Code for Verification (that you can do the problem)"}),(0,t.jsx)(d.ZP,{width:"100%",height:"8rem",defaultLanguage:"javascript",theme:"vs-dark",options:{minimap:{enabled:!1}},value:N,onChange:e=>v(null!=e?e:"")}),(0,t.jsx)("button",{disabled:U,onClick:E,className:"the-btn w-full",children:"Confirm Edit"})]})}function m(e){let{challengeName:a}=e,[n,s]=(0,o.useState)(null),[i,c]=(0,o.useState)("");return((0,o.useEffect)(()=>{(async()=>{try{let e=await l.H.sessionChallenge(a);s(e)}catch(e){c(e instanceof Error?e.message:"Unknown error")}})()},[a]),i)?(0,t.jsx)("p",{children:i}):n?(0,t.jsx)(u,{challengeId:n.id,titleInitialValue:n.name,tierInitialValue:n.tier.toString(),descriptionInitialValue:n.description,initialCodeInitialValue:n.initialCode,testCasesInitialValue:n.testCase}):(0,t.jsx)("p",{children:"Loading..."})}function g(e){let{challenges:a}=e;return a.length?a.map(e=>(0,t.jsxs)("div",{className:"flex w-fit items-center justify-between gap-6",children:[(0,t.jsx)(c.Z,{tier:e.tier,title:e.name}),(0,t.jsxs)("div",{className:"space-x-3",children:[(0,t.jsxs)(s.fC,{children:[(0,t.jsx)(s.xz,{className:"the-btn",children:"Edit"}),(0,t.jsx)(r.Z,{title:"Edit",description:"Edit your challenge details",children:(0,t.jsx)(m,{challengeName:e.name})})]}),(0,t.jsxs)(s.fC,{children:[(0,t.jsx)(s.xz,{className:"the-btn",children:"Delete"}),(0,t.jsx)(r.Z,{title:"Delete",description:"Are you sure?",children:(0,t.jsx)(h,{challengeId:e.id})})]})]})]},e.id)):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:"No challenges"}),(0,t.jsx)("p",{className:"text-xs",children:"Create one!"})]})}function p(){let{mutate:e}=(0,i.kY)(),[a,n]=(0,o.useState)(""),[s,c]=(0,o.useState)("5"),[r,h]=(0,o.useState)(""),[u,m]=(0,o.useState)(""),[g,p]=(0,o.useState)(""),[b,x]=(0,o.useState)(""),[f,j]=(0,o.useState)(""),[y,w]=(0,o.useState)(!1),C=async()=>{if(j(""),w(!1),!a||!r||!u||!g){j("Please fill in all fields");return}try{let n=parseInt(s);if(isNaN(n)||n<1||n>5)throw Error("Tier must be between 1 and 5");await l.H.challengeCreate({name:a,tier:n,description:r,initialCode:u,testCase:g,codeForVerification:b}),e("session/challenges"),w(!0)}catch(e){j(e instanceof Error?e.message:"Unknown error")}};return(0,t.jsxs)(t.Fragment,{children:[f&&(0,t.jsx)("div",{className:"bg-red-800 px-3 py-1",children:(0,t.jsx)("p",{className:"whitespace-pre-wrap text-sm",children:f})}),y&&(0,t.jsx)("div",{className:"bg-green-500 px-3 py-1",children:(0,t.jsx)("p",{children:"Success"})}),(0,t.jsx)("label",{htmlFor:"title",className:"block font-bold",children:"Title"}),(0,t.jsx)("input",{type:"text",name:"title",id:"title",placeholder:"Enter challenge title",value:a,onChange:e=>n(e.target.value),className:"the-input w-full sm:w-[512px] md:w-[640px]"}),(0,t.jsx)("label",{htmlFor:"tier",className:"block font-bold",children:"Tier"}),(0,t.jsx)("input",{type:"number",name:"tier",id:"tier",placeholder:"Enter challenge tier",min:1,max:5,value:s,onChange:e=>c(e.target.value),className:"the-input w-full sm:w-[512px] md:w-[640px]"}),(0,t.jsx)("p",{className:"block font-bold",children:"Description"}),(0,t.jsx)(d.ZP,{width:"100%",height:"8rem",defaultLanguage:"markdown",theme:"vs-dark",options:{minimap:{enabled:!1}},value:r,onChange:e=>h(null!=e?e:"")}),(0,t.jsx)("p",{className:"block font-bold",children:"Initial Code"}),(0,t.jsx)(d.ZP,{width:"100%",height:"8rem",defaultLanguage:"javascript",theme:"vs-dark",options:{minimap:{enabled:!1}},value:u,onChange:e=>m(null!=e?e:"")}),(0,t.jsx)("p",{className:"block font-bold",children:"Test Cases"}),(0,t.jsx)(d.ZP,{width:"100%",height:"8rem",defaultLanguage:"javascript",theme:"vs-dark",options:{minimap:{enabled:!1}},value:g,onChange:e=>p(null!=e?e:"")}),(0,t.jsx)("p",{className:"block font-bold",children:"Code for Verification (that you can do the problem)"}),(0,t.jsx)(d.ZP,{width:"100%",height:"8rem",defaultLanguage:"javascript",theme:"vs-dark",options:{minimap:{enabled:!1}},value:b,onChange:e=>x(null!=e?e:"")}),(0,t.jsx)("button",{disabled:y,onClick:C,className:"the-btn w-full",children:"Create"})]})}function b(){let{data:e,error:a,isLoading:n}=(0,i.ZP)("session/challenges",()=>l.H.sessionChallenges());return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"the-card space-y-3",children:[(0,t.jsx)("p",{className:"font-bold",children:"Published Challenges"}),n?(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{children:"Loading..."}),(0,t.jsx)("p",{className:"text-xs",children:"Please wait"})]}):a?(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{children:"Error"}),(0,t.jsx)("p",{className:"text-xs",children:a.toString()})]}):(0,t.jsx)(g,{challenges:null!=e?e:[]})]}),(0,t.jsxs)(s.fC,{children:[(0,t.jsx)(s.xz,{className:"the-btn block w-full",children:"Create New Challenge"}),(0,t.jsx)(r.Z,{title:"Create New Challenge",description:"Fill in new challenge details",children:(0,t.jsx)(p,{})})]})]})}},4962:function(e,a,n){"use strict";async function t(e,a){let n=await fetch(e,a),t=await l(n);if(!n.ok)throw new i(n.status,n.statusText,null==t?void 0:t.details);return t}async function s(e,a){let n=await fetch(e,a);if(!n.ok){var t;throw new i(n.status,n.statusText,null===(t=await l(n))||void 0===t?void 0:t.details)}}async function l(e){try{return await e.json()}catch(e){if(!(e instanceof SyntaxError))throw e;return null}}n.d(a,{H:function(){return c}});class i extends Error{constructor(e,a,n){super("Error ".concat(e," (").concat(a,")! ").concat(n?"Details: "+n:"No details given"))}}let c=new class{async sessionLogin(e,a){await s("".concat(this.baseUrl,"/token"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({username:e,password:a}),credentials:"include"})}async sessionLogout(){await s("".concat(this.baseUrl,"/session/logout"),{method:"POST",credentials:"include"})}async sessionUser(){return await t("".concat(this.baseUrl,"/session"),{credentials:"include"})}async sessionChallenges(){return await t("".concat(this.baseUrl,"/session/challenges"),{credentials:"include"})}async sessionChallenge(e){return await t("".concat(this.baseUrl,"/session/challenges/name/").concat(e),{credentials:"include"})}async sessionChallengeVoteByChallengeName(e){return await t("".concat(this.baseUrl,"/session/challenge-votes/name/").concat(e),{credentials:"include"})}async sessionChallengeSubmissionVoteByChallengeSubmissionId(e){return await t("".concat(this.baseUrl,"/session/challenge-submission-votes/").concat(e),{credentials:"include"})}async userCreate(e){await s("".concat(this.baseUrl,"/users"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}async userList(){return await t("".concat(this.baseUrl,"/users"))}async userGetByName(e){return await t("".concat(this.baseUrl,"/users/name/").concat(e))}async challengeCreate(e){await s("".concat(this.baseUrl,"/challenges"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"})}async challengeList(e,a){return await t("".concat(this.baseUrl,"/challenges?tiers=").concat(e,"&sort-by=").concat(a))}async challengeGetByName(e){return await t("".concat(this.baseUrl,"/challenges/name/").concat(e))}async challengeUpdate(e,a){await s("".concat(this.baseUrl,"/challenges/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a),credentials:"include"})}async challengeDelete(e){return await t("".concat(this.baseUrl,"/challenges/").concat(e),{method:"DELETE",credentials:"include"})}async challengeCommentCreate(e){await s("".concat(this.baseUrl,"/challenge-comments"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"})}async challengeCommentListByChallengeName(e){return await t("".concat(this.baseUrl,"/challenge-comments/challenge-name/").concat(e))}async challengeVoteCreate(e){await s("".concat(this.baseUrl,"/challenge-votes"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"})}async challengeVoteListByChallengeName(e){return await t("".concat(this.baseUrl,"/challenge-votes/challenge-name/").concat(e))}async challengeVoteDelete(e){return await t("".concat(this.baseUrl,"/challenge-votes/").concat(e),{method:"DELETE",credentials:"include"})}async challengeSubmissionCreate(e){await s("".concat(this.baseUrl,"/challenge-submissions"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"})}async challengeSubmissionListByChallengeName(e){return await t("".concat(this.baseUrl,"/challenge-submissions/challenge-name/").concat(e))}async challengeSubmissionCommentCreate(e){await s("".concat(this.baseUrl,"/challenge-submission-comments"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"})}async challengeSubmissionCommentListByChallengeSubmissionId(e){return await t("".concat(this.baseUrl,"/challenge-submission-comments/challenge-submission-id/").concat(e))}async challengeSubmissionVoteCreate(e){await s("".concat(this.baseUrl,"/challenge-submission-votes"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"})}async challengeSubmissionVoteListBySubmissionId(e){return await t("".concat(this.baseUrl,"/challenge-submission-votes/challenge-submission-id/").concat(e))}async challengeSubmissionVoteDelete(e){return await t("".concat(this.baseUrl,"/challenge-submission-votes/").concat(e),{method:"DELETE",credentials:"include"})}constructor(e){this.baseUrl=e}}("https://pcp.azurewebsites.net")}},function(e){e.O(0,[354,536,729,291,744],function(){return e(e.s=5095)}),_N_E=e.O()}]);